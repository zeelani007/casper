{"version":3,"sources":["customer-guard.service.ts"],"names":[],"mappings":";;;;;;;;AAAA,sCAA2C;AAM3C;IAEI,6BAAoB,MAAc;QAAd,WAAM,GAAN,MAAM,CAAQ;IAClC,CAAC;IAED,yCAAW,GAAX,UAAY,KAA6B;QACrC,IAAI,EAAE,GAAG,CAAC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QAC5B,IAAI,KAAK,CAAC,EAAE,CAAC,IAAI,EAAE,GAAG,CAAC,EAAE;YACrB,KAAK,CAAC,qBAAqB,CAAC,CAAC;YAC7B,kDAAkD;YAClD,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC;YACrC,2BAA2B;YAC3B,OAAO,KAAK,CAAC;SAChB;QAAA,CAAC;QACF,OAAO,IAAI,CAAC;IAChB,CAAC;IAfS,mBAAmB;QADhC,iBAAU,EAAE;OACC,mBAAmB,CAgBhC;IAAD,0BAAC;CAhBD,AAgBC,IAAA;AAhBa,kDAAmB;AAmBjC;IAAA;IASA,CAAC;IAPG,yCAAa,GAAb,UAAc,SAAgC;QAC1C,IAAI,SAAS,CAAC,YAAY,CAAC,KAAK,EAAE;YAC9B,IAAI,YAAY,GAAG,SAAS,CAAC,YAAY,CAAC,GAAG,CAAC,WAAW,CAAC,CAAC,KAAK,IAAI,cAAc,CAAC;YACnF,OAAO,OAAO,CAAC,2CAAyC,YAAY,MAAG,CAAC,CAAC;SAC5E;QACD,OAAO,IAAI,CAAC;IAChB,CAAC;IARS,iBAAiB;QAD9B,iBAAU,EAAE;OACC,iBAAiB,CAS9B;IAAD,wBAAC;CATD,AASC,IAAA;AATa,8CAAiB","file":"customer-guard.service.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, Router, CanDeactivate } from '@angular/router';\n\nimport { CustomerFormComponent } from './customer-form.component';\n\n@Injectable()\nexport  class CustomerDetailGuard implements CanActivate {\n\n    constructor(private router: Router) {\n    }\n\n    canActivate(route: ActivatedRouteSnapshot): boolean {\n        let id = +route.url[1].path;\n        if (isNaN(id) || id < 1) {\n            alert('Invalid customer Id');\n            // start a new navigation to redirect to list page\n            this.router.navigate(['/customers']);\n            // abort current navigation\n            return false;\n        };\n        return true;\n    }\n}\n\n@Injectable()\nexport  class CustomerEditGuard implements CanDeactivate<CustomerFormComponent> {\n\n    canDeactivate(component: CustomerFormComponent): boolean {\n        if (component.customerForm.dirty) {\n            let customerName = component.customerForm.get('firstname').value || 'New Customer';\n            return confirm(`Navigate away and lose all changes to ${customerName}?`);\n        }\n        return true;\n    }\n}\n"]}