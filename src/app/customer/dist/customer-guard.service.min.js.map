{"version":3,"sources":["customer-guard.service.ts"],"names":["core_1","require","CustomerDetailGuard","router","this","prototype","canActivate","route","id","url","path","isNaN","alert","navigate","__decorate","Injectable","exports","CustomerEditGuard","canDeactivate","component","customerForm","dirty","customerName","get","value","confirm"],"mappings":"6YAAA,IAAAA,OAAAC,QAAA,iBAMAC,oBAAA,WAEI,SAAAA,EAAoBC,GAAAC,KAAAD,OAAAA,EAcxB,OAXID,EAAAG,UAAAC,YAAA,SAAYC,GACR,IAAIC,GAAMD,EAAME,IAAI,GAAGC,KACvB,QAAIC,MAAMH,IAAOA,EAAK,KAClBI,MAAM,uBAENR,KAAKD,OAAOU,SAAS,CAAC,gBAEf,IAZLX,EAAmBY,WAAA,CADhCd,OAAAe,cACab,GAAd,GAAcc,QAAAd,oBAAAA,oBAmBd,IAAAe,kBAAA,WAAA,SAAAA,KASA,OAPIA,EAAAZ,UAAAa,cAAA,SAAcC,GACV,GAAIA,EAAUC,aAAaC,MAAO,CAC9B,IAAIC,EAAeH,EAAUC,aAAaG,IAAI,aAAaC,OAAS,eACpE,OAAOC,QAAQ,yCAAyCH,EAAY,KAExE,OAAO,GAPDL,EAAiBH,WAAA,CAD9Bd,OAAAe,cACaE,GAAd,GAAcD,QAAAC,kBAAAA","file":"customer-guard.service.min.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, Router, CanDeactivate } from '@angular/router';\n\nimport { CustomerFormComponent } from './customer-form.component';\n\n@Injectable()\nexport  class CustomerDetailGuard implements CanActivate {\n\n    constructor(private router: Router) {\n    }\n\n    canActivate(route: ActivatedRouteSnapshot): boolean {\n        let id = +route.url[1].path;\n        if (isNaN(id) || id < 1) {\n            alert('Invalid customer Id');\n            // start a new navigation to redirect to list page\n            this.router.navigate(['/customers']);\n            // abort current navigation\n            return false;\n        };\n        return true;\n    }\n}\n\n@Injectable()\nexport  class CustomerEditGuard implements CanDeactivate<CustomerFormComponent> {\n\n    canDeactivate(component: CustomerFormComponent): boolean {\n        if (component.customerForm.dirty) {\n            let customerName = component.customerForm.get('firstname').value || 'New Customer';\n            return confirm(`Navigate away and lose all changes to ${customerName}?`);\n        }\n        return true;\n    }\n}\n"]}