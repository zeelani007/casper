"use strict";var __decorate=this&&this.__decorate||function(e,t,r,o){var n,c=arguments.length,i=c<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var a=e.length-1;0<=a;a--)(n=e[a])&&(i=(c<3?n(i):3<c?n(t,r,i):n(t,r))||i);return 3<c&&i&&Object.defineProperty(t,r,i),i};exports.__esModule=!0;var core_1=require("@angular/core");require("rxjs/add/operator/map");var APP_USER_PROFILE="NG_CRM_USER_2.0",AuthenticationService=function(){function e(e,t){this.http=e,this.backend=t}return e.prototype.login=function(e){return this.backend.login("token",e).map(function(e){var t=e,r=t.user;r&&t.access_token&&(r.token=t.access_token,r.isAuthenticated=!0,localStorage.setItem(APP_USER_PROFILE,JSON.stringify(r)))})},e.prototype.logout=function(){localStorage.removeItem(APP_USER_PROFILE)},e.prototype.isAuthenticated=function(){var e=this.getUser();return!(!e||!e.isAuthenticated)},e.prototype.getUser=function(){return JSON.parse(localStorage.getItem(APP_USER_PROFILE))},e=__decorate([core_1.Injectable()],e)}();exports.AuthenticationService=AuthenticationService;
//# sourceMappingURL=authentication.service.min.js.map
